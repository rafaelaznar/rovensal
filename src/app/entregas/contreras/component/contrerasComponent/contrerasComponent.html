<h2>Entrega Contreras</h2>

<button (click)="campeonAleatorio()">Campeón Aleatorio</button>

<div style="margin: 20px 0;">
  <button (click)="mostrarBuscador = !mostrarBuscador">Buscar Campeón Específico</button>
  
  @if (mostrarBuscador) {
    <div style="margin-top: 10px;">
      <input 
        type="text" 
        placeholder="Ej: Ahri" 
        #inputBuscador
        style="padding: 5px; margin-right: 10px;">
      <button (click)="buscarCampeon(inputBuscador.value)">Buscar</button>
    </div>
  }
</div>

<p>Total de campeones cargados: {{ posts.length }}</p>

@if (campeonMostrado) {
  <div style="border: 1px solid #ccc; padding: 20px; margin: 20px 0; background-color: #f9f9f9;">
    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
      <img [src]="campeonMostrado.icon" 
           [alt]="campeonMostrado.name" 
           style="width: 64px; height: 64px; border-radius: 8px; border: 2px solid #ddd;">
      <div>
        <h3 style="margin: 0;">{{ campeonMostrado.name }}</h3>
        <p style="margin: 5px 0; color: #666; font-style: italic;">{{ campeonMostrado.title }}</p>
      </div>
    </div>
    <p><strong>ID:</strong> {{ campeonMostrado.id }}</p>
    <p><strong>Tipo de ataque:</strong> {{ campeonMostrado.attackType }}</p>
    <p><strong>Tipo adaptativo:</strong> {{ campeonMostrado.adaptiveType }}</p>
    <p><strong>Recurso:</strong> {{ campeonMostrado.resource }}</p>
    <p><strong>Posiciones:</strong> {{ campeonMostrado.positions }}</p>
    <p><strong>Roles:</strong> {{ campeonMostrado.roles }}</p>
    <p><strong>Facción:</strong> {{ campeonMostrado.faction }}</p>
    <p><strong>Vida:</strong> {{ campeonMostrado.stats?.health?.flat }}</p>
    <p><strong>Armadura:</strong> {{ campeonMostrado.stats?.armor?.flat }}</p>
    <p><strong>Daño de ataque:</strong> {{ campeonMostrado.stats?.attackDamage?.flat }}</p>
    <p><strong>Velocidad:</strong> {{ campeonMostrado.stats?.movespeed?.flat }}</p>
    <p><strong>Lore: </strong> 
      <span #loreText>{{ campeonMostrado.lore.substring(0, 150) }}...</span>
      <button #btnmas (click)="loreText.textContent = campeonMostrado.lore; btnmas.style.display = 'none'" 
              style="margin-left: 10px; color: #007acc; background: none; border: none; cursor: pointer; text-decoration: underline;">
        Ver más
      </button>
    </p>
  </div>
}