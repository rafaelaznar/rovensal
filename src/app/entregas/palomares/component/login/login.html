<div class="login-container">
  <div class="login-card">
    <h2>Rick & Morty Login</h2>
    <p class="subtitle">Formulario con validación y expresiones regulares</p>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      
      <!-- Campo Username -->
      <div class="form-group">
        <label for="username">Usuario *</label>
        <input 
          id="username"
          type="text" 
          formControlName="username"
          [class.invalid]="hasError('username', 'required') || hasError('username', 'minlength') || hasError('username', 'maxlength')"
          placeholder="Ingresa tu usuario"
        />
        @if (submitted() || loginForm.get('username')?.touched) {
          <span class="error-text">{{ getErrorMessage('username') }}</span>
        }
      </div>

      <!-- Campo Email -->
      <div class="form-group">
        <label for="email">Email *</label>
        <input 
          id="email"
          type="email" 
          formControlName="email"
          [class.invalid]="hasError('email', 'required') || hasError('email', 'pattern')"
          placeholder="ejemplo@correo.com"
        />
        @if (submitted() || loginForm.get('email')?.touched) {
          <span class="error-text">{{ getErrorMessage('email') }}</span>
        }
      </div>

      <!-- Campo Password -->
      <div class="form-group">
        <label for="password">Contraseña *</label>
        <input 
          id="password"
          type="password" 
          formControlName="password"
          [class.invalid]="hasError('password', 'required') || hasError('password', 'pattern')"
          placeholder="Contraseña segura"
        />
        @if (submitted() || loginForm.get('password')?.touched) {
          <span class="error-text">{{ getErrorMessage('password') }}</span>
        }
        <small class="hint">Mínimo 6 caracteres</small>
      </div>

      @if (errorMessage()) {
        <div class="error-message">
          {{ errorMessage() }}
        </div>
      }

      <div class="button-group">
        <button type="submit" class="btn-submit">
          Iniciar Sesión
        </button>
      </div>

      <div class="form-status">
        <p><strong>Estado del formulario:</strong> 
          <span [class.valid]="loginForm.valid" [class.invalid]="!loginForm.valid">
            {{ loginForm.valid ? 'Válido ✓' : 'Inválido ✗' }}
          </span>
        </p>
      </div>
    </form>
  </div>
</div>
